<form #form="ngForm" (ngSubmit)="onSubmit()">
  @for (item of model.items; track item.label) {
    @switch (item.type) {
      @case ("text") {
        <label class="form-control w-full max-w-xs">
          <div class="label">
            <span class="label-text">{{ item.label }}</span>
          </div>
          <input
            type="text"
            class="input input-bordered w-full max-w-xs"
            [ngModelOptions]="{standalone: true}"
            [placeholder]="item?.placeholder"
            [(ngModel)]="item.name"
            [required]="item?.required ?? false"
            [disabled]="item?.disabled ?? false"
          />
        </label>
      }
      @case ("checkbox") {
        <div class="form-control">
          <label class="label cursor-pointer">
            <input
              type="checkbox"
              [(ngModel)]="item.name"
              [ngModelOptions]="{standalone: true}"
              [checked]="item?.checked ?? false"
              [required]="item?.required ?? false"
              [disabled]="item?.disabled ?? false"
              class="checkbox"
            />
            <span class="label-text">{{ item.label }}</span>
          </label>
        </div>
      }
      @case ("radio") {
        @for (option of item.options; track option.value) {
          <div class="form-control">
            <label class="label cursor-pointer">
              <input
                type="radio"
                [(ngModel)]="item.name"
                [ngModelOptions]="{standalone: true}"
                [value]="item?.value"
                [checked]="item?.checked"
                [required]="item?.required ?? false"
                [disabled]="item?.disabled ?? false"
              />
              <span class="label-text">{{ option.label }}</span>
            </label>
          </div>
        }
      }
      @case ("select") {
        <label class="form-control w-full max-w-xs">
          <div class="label">
            <span class="label-text">{{ item.label }}</span>
          </div>
          <select
            [(ngModel)]="item.name"
            [ngModelOptions]="{standalone: true}"
            [required]="item?.required ?? false"
            [disabled]="item?.disabled ?? false"
            class="select select-bordered"
          >
            @for (option of item.options; track option.value) {
              <option [value]="option?.value" [selected]="option?.selected" [disabled]="option?.disabled">
                {{ option.label }}
              </option>
            }
          </select>
        </label>
      }
      @case ("textarea") {
        <label class="form-control">
          <div class="label">
            <span class="label-text">{{ item.label }}</span>
          </div>
          <textarea
            class="textarea textarea-bordered h-24"
            [placeholder]="item?.placeholder"
            [ngModelOptions]="{standalone: true}"
            [(ngModel)]="item.name"
            [required]="item?.required ?? false"
            [disabled]="item?.disabled ?? false"
          ></textarea>
        </label>
      }
      @case ("date") {
        <label class="form-control w-full max-w-xs">
          <div class="label">
            <span class="label-text">{{ item.label }}</span>
          </div>
          <input
            type="date"
            class="input input-bordered w-full max-w-xs"
            [required]="item?.required ?? false"
            [disabled]="item?.disabled ?? false"
            [min]="item?.min"
            [max]="item?.max"
            [ngModelOptions]="{standalone: true}"
            [(ngModel)]="item.name"
          />
        </label>
      }
      @case ("rage") {
        <label class="form-control w-full max-w-xs">
          <div class="label">
            <span class="label-text">{{ item.label }}</span>
          </div>
          <input
            type="range"
            [required]="item?.required ?? false"
            [disabled]="item?.disabled ?? false"
            [min]="item?.min"
            [max]="item?.max"
            [ngModelOptions]="{standalone: true}"
            [(ngModel)]="item.name"
            class="range"
          />
        </label>
      }
    }
  }
  <button [disabled]="form.invalid" class="btn">
    {{ model.submitButtonLabel }}
  </button>
</form>
